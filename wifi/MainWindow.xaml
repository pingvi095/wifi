<Window x:Class="wifi.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Поиск мест с Wi-Fi" Height="600" Width="1100" MinHeight="600" MaxHeight="600" MinWidth="1100" MaxWidth="1100"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize" Background="#FF163832"
        >

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок и кнопка Назад -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,0,0,10">
            <Button x:Name="BackButton" Content="← Назад" Width="80" Margin="0,0,20,0" Click="BackButton_Click" 
                    ToolTip="Вернуться к выбору роли" Background="#FFCDDACF"/>
            <TextBlock Text="Поиск мест с Wi-Fi" FontSize="16" FontWeight="Bold" VerticalAlignment="Center" Foreground="White"/>
        </StackPanel>

        <!-- Поиск и фильтры -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,8">
            <TextBox x:Name="SearchBox" Width="300" Margin="0,0,8,0" Text="Поиск..." Foreground="Gray"
                     GotFocus="SearchBox_GotFocus" LostFocus="SearchBox_LostFocus" TextChanged="SearchBox_TextChanged"
                     MaxLength="100"/>

            <ComboBox x:Name="TypeFilter" Width="150" Margin="0,0,8,0" SelectionChanged="Filters_Changed">
                <ComboBoxItem Content="Все типы" IsSelected="True"/>
                <ComboBoxItem Content="Кафе"/>
                <ComboBoxItem Content="Библиотека"/>
                <ComboBoxItem Content="Лаунж-зона"/>
            </ComboBox>

            <ComboBox x:Name="WiFiFilter" Width="150" Margin="0,0,8,0" SelectionChanged="Filters_Changed">
                <ComboBoxItem Content="Любое" IsSelected="True"/>
                <ComboBoxItem Content="Плохо"/>
                <ComboBoxItem Content="Средне"/>
                <ComboBoxItem Content="Хорошо"/>
                <ComboBoxItem Content="Отлично"/>
            </ComboBox>

            <ComboBox x:Name="HoursFilter" Width="170" Margin="0,0,8,0" SelectionChanged="Filters_Changed">
                <ComboBoxItem Content="Любые часы" IsSelected="True"/>
                <ComboBoxItem Content="Круглосуточно"/>
                <ComboBoxItem Content="До 23:00"/>
                <ComboBoxItem Content="До 20:00"/>
            </ComboBox>

            <TextBlock VerticalAlignment="Center" Margin="16,0,34,0" Foreground="White">Сортировать:</TextBlock>
            <ComboBox x:Name="SortBox" Width="140" SelectionChanged="Filters_Changed" Margin="0,0,62,0">
                <ComboBoxItem Content="По умолчанию" IsSelected="True"/>
                <ComboBoxItem Content="По рейтингу (убывание)"/>
                <ComboBoxItem Content="По рейтингу (возрастание)"/>
                <ComboBoxItem Content="По названию (А→Я)"/>
                <ComboBoxItem Content="По названию (Я→А)"/>
            </ComboBox>
        </StackPanel>

        <!-- Быстрые фильтры -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,0,0,8">
            <Button Content="Показать только 24/7" Click="Quick24_Click" Margin="0,0,8,0" Background="#FFA8C3AD"/>
            <Button Content="Только кафе с отличным Wi-Fi" Click="QuickCafeGood_Click" Background="#FFA8C3AD"/>
            <Button Content="Сбросить фильтры" Margin="8,0,8,0"  Click="ResetFilters_Click" Background="#FFCDDACF"/>
        </StackPanel>

        <!-- DataGrid -->
        <DataGrid x:Name="PlacesGrid" Grid.Row="3" AutoGenerateColumns="False" IsReadOnly="True"
                  SelectionMode="Single" Margin="0,0,0,8" Background="#FF8EB69B">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Название" Binding="{Binding Name}" Width="*"/>
                <DataGridTextColumn Header="Тип" Binding="{Binding Type}" Width="120"/>
                <DataGridTextColumn Header="Адрес" Binding="{Binding Address}" Width="200"/>
                <DataGridTextColumn Header="Wi-Fi" Binding="{Binding WiFiQuality}" Width="100"/>
                <DataGridTextColumn Header="Часы" Binding="{Binding WorkHours}" Width="120"/>
                <DataGridTextColumn Header="Рейтинг" Binding="{Binding Rating, StringFormat=N1}" Width="80"/>
                <DataGridTemplateColumn Header="Детали" Width="80">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="Открыть" Click="OpenDetails_Click"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Админ-панель -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Center">
            <Button x:Name="AddButton" Content="Добавить" Width="100" Margin="6" Click="Add_Click" Background="#FFDAF1DE" Visibility="Collapsed"/>
            <Button x:Name="EditButton" Content="Редактировать" Width="100" Margin="6" Click="Edit_Click" Background="#FFDAF1DE" Visibility="Collapsed"/>
            <Button x:Name="DeleteButton" Content="Удалить" Width="100" Margin="6" Click="Delete_Click" Background="#FFDAF1DE" Visibility="Collapsed"/>
            <Button x:Name="Admin4ik" Content="Админ" Width="100" Margin="6" Click="Admin_Click"  Background="#FF99D2A2"/>
            </StackPanel>
    </Grid>
</Window>